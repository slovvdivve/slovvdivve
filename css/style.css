:root{
  --brand-primary:#00E7F0;
  --brand-accent:#FF4AF2;
  --brand-support:#C7FFE8;
  --brand-warning:#FFC715;
  --brand-danger:#ff6b88;

  --bg-0:#050a10; --glass:rgba(10,28,43,.52); --line:rgba(0,255,255,.14);
  --text:#e8fbff; --muted:#9ad0df;

  --radius:14px; --space-2:10px; --space-3:16px; --space-4:22px;
  --sidebar-w:300px; --content-max:1680px; --sticky:18px;
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
  background:var(--bg-0);color:var(--text);-webkit-font-smoothing:antialiased;
  line-height:1.45;overflow-x:hidden
}

/* Фон */
.bg{position:fixed;inset:0;z-index:-1;background:
  radial-gradient(900px 600px at 10% -10%, rgba(0,240,255,.07), transparent 40%),
  radial-gradient(900px 600px at 90% 110%, rgba(255,74,242,.06), transparent 40%);}
.grid{position:absolute;inset:0;opacity:.35;background:
  linear-gradient(rgba(0,255,255,.12) 1px, transparent 1px) 0 0/ 32px 32px,
  linear-gradient(90deg, rgba(0,255,255,.12) 1px, transparent 1px) 0 0/ 32px 32px}
@media (prefers-reduced-motion:no-preference){
  .grid{animation:m 16s linear infinite}
  @keyframes m{to{transform:translateY(-32px)}}
}

/* Лэйаут */
.layout{display:grid;grid-template-columns:var(--sidebar-w) 1fr;min-height:100dvh}
.sidebar{
  position:sticky;top:0;height:100dvh;background:linear-gradient(180deg,rgba(7,19,28,.85),rgba(7,19,28,.75));
  border-right:1px solid var(--line);backdrop-filter:blur(10px);
  display:flex;flex-direction:column;padding:var(--space-4);gap:var(--space-3);z-index:6
}
.brand{display:flex;align-items:center;gap:12px;font-weight:900;font-size:20px;cursor:pointer;padding:6px 4px;border-radius:12px;text-decoration:none;color:var(--text)}
.logo{width:30px;height:30px;border-radius:8px;background:
  radial-gradient(circle at 30% 30%, var(--brand-primary), transparent 60%),
  radial-gradient(circle at 70% 70%, var(--brand-accent), transparent 60%),
  #09131d;border:1px solid var(--line);box-shadow:0 0 14px rgba(0,255,255,.35)}
.nav{display:flex;flex-direction:column;gap:8px;overflow:auto;padding-right:4px}
.nav a{display:flex;align-items:center;gap:10px;padding:10px 12px;border-radius:12px;color:var(--muted);font-weight:900;text-decoration:none;border:1px solid transparent}
.nav a:hover{background:rgba(0,255,255,.05);border-color:var(--line)}
.nav a.active{color:var(--text);background:rgba(0,255,255,.08);border-color:var(--line)}
.side-stat{margin-top:auto;display:grid;gap:8px}
.stat-chip{display:flex;align-items:center;gap:10px;padding:10px;border-radius:12px;background:var(--glass);border:1px solid var(--line)}
.xp-bar{width:100%;height:10px;background:rgba(255,255,255,.05);border:1px solid var(--line);border-radius:999px;overflow:hidden}
.xp-fill{height:100%;width:0%;background:linear-gradient(90deg,var(--brand-primary),var(--brand-accent))}
.footer-mini{font-size:12px;color:var(--muted);text-align:center}

@media (max-width:900px){
  .layout{grid-template-columns:1fr}
  .sidebar{display:none}
}

.content{padding:var(--space-4)}
.container{width:min(var(--content-max),100%);margin:0 auto;display:grid;gap:var(--space-4);padding-inline:var(--space-4)}
@media (max-width:900px){ .container{padding-inline:16px} }

.panel{
  background:var(--glass);border:1px solid var(--line);border-radius:var(--radius);
  padding:var(--space-4);backdrop-filter:blur(10px);position:relative;overflow:hidden;height:auto
}
.panel:before{content:"";position:absolute;inset:0;background:repeating-linear-gradient(0deg,rgba(255,255,255,.02),rgba(255,255,255,.02) 1px,transparent 2px);opacity:.4;mix-blend-mode:overlay;pointer-events:none}
.title{font-size:clamp(20px,1.2rem + .5vw,30px);font-weight:900;margin:0 0 10px}
.muted{color:var(--muted)}
.btn{appearance:none;border:1px solid var(--line);border-radius:12px;padding:12px 14px;background:linear-gradient(180deg,#0b1c2c,#07131c);color:var(--text);font-weight:900;cursor:pointer}
.btn.primary{background:linear-gradient(180deg,#0b2f3f,#0a1e2a);box-shadow:0 0 10px rgba(0,255,255,.25) inset}
.gridgap{display:grid;gap:10px}

/* Game */
.play-wrap{display:grid;grid-template-columns:2fr 1fr;gap:24px;align-items:start}
@media (max-width:1200px){ .play-wrap{grid-template-columns:1fr} }
.session-sticky{position:sticky;top:var(--sticky);align-self:start;margin-top:var(--space-3)}

.choice{padding:14px;border-radius:12px;border:1px solid var(--line);background:linear-gradient(180deg,rgba(8,20,32,.8),rgba(6,16,25,.8));font-weight:800;cursor:pointer}
.choice.correct{outline:2px solid var(--brand-support)}
.choice.wrong{outline:2px solid var(--brand-danger)}
.answer-input{width:100%;padding:14px 16px;border-radius:12px;background:rgba(6,16,25,.8);border:1px solid var(--line);color:var(--text)}

/* Dock (mobile) */
.dock{position:sticky;bottom:0;z-index:7;background:rgba(7,19,28,.94);border-top:1px solid var(--line);backdrop-filter:blur(8px)}
.dock .row{display:flex;gap:6px;padding:8px}
.dock a{flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:6px;border-radius:10px;color:var(--muted);text-decoration:none;border:1px solid transparent}
.dock a.active{color:var(--text);background:rgba(0,255,255,.08);border-color:var(--line)}
@media (min-width:900px){ .dock{display:none} }

/* Charts (Canvas) */
canvas.chart{width:100%;height:200px}
@media (max-width:900px){ canvas.chart{height:120px} }

/* Тост */
.toast{position:fixed;left:50%;bottom:90px;transform:translateX(-50%);background:rgba(7,19,28,.95);border:1px solid var(--line);color:var(--text);padding:10px 14px;border-radius:12px;z-index:20}
